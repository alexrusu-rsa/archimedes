<div class="dialog-container">
  <mat-dialog-content *ngIf="currentUser && user === null">
    <mat-card-title i18n>Add User</mat-card-title>
    <form [formGroup]="addUserForm!">
      <mat-form-field appearance="fill">
        <mat-label i18n>User Surname</mat-label>
        <input
          matInput
          [(ngModel)]="currentUser.surname"
          type="text"
          formControlName="surname"
          required="true"
        />
        <mat-hint *ngIf="surname?.touched && !surname?.dirty" i18n>
          User surname is required
        </mat-hint>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label i18n>User Name</mat-label>
        <input
          matInput
          [(ngModel)]="currentUser.name"
          formControlName="name"
          type="text"
          required="true"
        />
        <mat-hint *ngIf="name?.touched && !name?.dirty" i18n>
          User name is required
        </mat-hint>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label i18n>User Email</mat-label>
        <input
          matInput
          [(ngModel)]="currentUser.email"
          formControlName="email"
          type="text"
          required="true"
        />
        <mat-hint *ngIf="email?.touched && !email?.dirty" i18n>
          User email is required
        </mat-hint>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label i18n>User Role</mat-label>
        <input
          matInput
          [(ngModel)]="currentUser.role"
          type="text"
          formControlName="role"
        />
        <mat-hint *ngIf="role?.touched && !role?.dirty" i18n>
          User role is required
        </mat-hint>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label i18n>User Seniority </mat-label>
        <input
          matInput
          [(ngModel)]="currentUser.seniority"
          type="text"
          formControlName="seniority"
        />
        <mat-hint *ngIf="seniority?.touched && !seniority?.dirty" i18n>
          User role is required
        </mat-hint>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label i18n>User time/day </mat-label>
        <input
          matInput
          [(ngModel)]="currentUser.timePerDay"
          type="text"
          formControlName="timePerDay"
        />
        <mat-hint *ngIf="timePerDay?.touched && !timePerDay?.dirty" i18n>
          User Time/Day is required
        </mat-hint>
      </mat-form-field>
    </form>
    <button
      *ngIf="this.user === null"
      color="accent"
      mat-raised-button
      (click)="addUser()"
      i18n
    >
      Add user
    </button>
  </mat-dialog-content>

  <mat-dialog-content *ngIf="currentUser && user !== null">
    <mat-card-title i18n>Update user</mat-card-title>
    <form [formGroup]="addUserForm!">
      <mat-form-field appearance="fill">
        <mat-label i18n>User Surname</mat-label>
        <input
          matInput
          [(ngModel)]="currentUser.surname"
          type="text"
          formControlName="surname"
          required="true"
        />
        <mat-hint *ngIf="surname?.touched && !surname?.dirty" i18n>
          User surname is required
        </mat-hint>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label i18n>User Name</mat-label>
        <input
          matInput
          [(ngModel)]="currentUser.name"
          formControlName="name"
          type="text"
          required="true"
        />
        <mat-hint *ngIf="name?.touched && !name?.dirty" i18n>
          User name is required
        </mat-hint>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label i18n>User Email</mat-label>
        <input
          matInput
          [(ngModel)]="currentUser.email"
          formControlName="email"
          type="text"
          required="true"
        />
        <mat-hint *ngIf="email?.touched && !email?.dirty" i18n>
          User email is required
        </mat-hint>
      </mat-form-field>
      
      <mat-form-field appearance="fill">
        <mat-label i18n>User Role</mat-label>
        <input
          matInput
          [(ngModel)]="currentUser.role"
          type="text"
          formControlName="role"
        />
        <mat-hint *ngIf="role?.touched && !role?.dirty" i18n>
          User role is required
        </mat-hint>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label i18n>User Seniority </mat-label>
        <input
          matInput
          [(ngModel)]="currentUser.seniority"
          type="text"
          formControlName="seniority"
        />
        <mat-hint *ngIf="seniority?.touched && !seniority?.dirty" i18n>
          User role is required
        </mat-hint>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label i18n>User time/day </mat-label>
        <input
          matInput
          [(ngModel)]="currentUser.timePerDay"
          type="text"
          formControlName="timePerDay"
        />
        <mat-hint *ngIf="timePerDay?.touched && !timePerDay?.dirty" i18n>
          User Time/Day is required
        </mat-hint>
      </mat-form-field>
    </form>
    <button
      *ngIf="user !== null"
      mat-raised-button
      color="accent"
      (click)="editUser()"
      i18n
    >
      Update user
    </button>
  </mat-dialog-content>
</div>
